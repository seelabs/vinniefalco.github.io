<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>wsproto::socket::async_close</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../../index.html" title="Beast">
<link rel="up" href="../wsproto__socket.html" title="wsproto::socket">
<link rel="prev" href="async_accept/overload3.html" title="wsproto::socket::async_accept (3 of 3 overloads)">
<link rel="next" href="async_handshake.html" title="wsproto::socket::async_handshake">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Beast Logo" width="1007" height="107" src="../../../images/beast.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="async_accept/overload3.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../wsproto__socket.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="async_handshake.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="beast.ref.wsproto__socket.async_close"></a><a class="link" href="async_close.html" title="wsproto::socket::async_close">wsproto::socket::async_close</a>
</h4></div></div></div>
<p>
          <a class="indexterm" name="id1071766"></a>
Start an asychronous WebSocket close operation.
        </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span>
    <span class="keyword">class</span> <span class="identifier">CloseHandler</span><span class="special">&gt;</span>
<span class="keyword">auto</span>
<span class="identifier">async_close</span><span class="special">(</span>
    <span class="identifier">close_reason</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">cr</span><span class="special">,</span>
    <span class="identifier">CloseHandler</span> <span class="special">&amp;&amp;</span> <span class="identifier">handler</span><span class="special">);</span>
</pre>
<p>
          This function initiates the WebSocket close procedure.If the close reason
          specifies a close code other than close_code::none, the close frame is
          sent with the close code and optional reason string. Otherwise, the close
          frame is sent with no payload.Callers should not attempt to write WebSocket
          data after initiating the close. Instead, callers should continue reading
          until an error occurs. A read returning error::closed indicates a successful
          connection closure.crThe reason for the close.handlerThe handler to be
          called when the close operation completes. Copies will be made of the handler
          as required. The function signature of the handler must be: voidhandler(error_codeconst&amp;error//Resultofoperation);
          Regardless of whether the asynchronous operation completes immediately
          or not, the handler will not be invoked from within this function. Invocation
          of the handler will be performed in a manner equivalent to using boost::asio::io_service::post().
        </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013-2016 Vinnie
      Falco<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="async_accept/overload3.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../wsproto__socket.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="async_handshake.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
